<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>piSmasher Configuration Libraries: TDA998x Audio</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="krtkl-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">piSmasher Configuration Libraries
   </div>
   <div id="projectbrief">piSmasher peripheral device configuration libraries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___t_d_a998_x___functions___audio.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TDA998x Audio<div class="ingroups"><a class="el" href="group___t_d_a998_x.html">TDA998x HDMI Transmitter</a> &raquo; <a class="el" href="group___t_d_a998_x___h_d_m_i___core.html">TDA998X_HDMI_Core</a> &raquo; <a class="el" href="group___t_d_a998_x___functions.html">TDA998x Device Control Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga22f779decacbc3a28c2ae7c8f0ea62df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_d_a998_x___functions___audio.html#ga22f779decacbc3a28c2ae7c8f0ea62df">tda998x_aud_set_port_enable</a> (struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *dev, uint8_t en)</td></tr>
<tr class="memdesc:ga22f779decacbc3a28c2ae7c8f0ea62df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Audio Port Enable.  <a href="#ga22f779decacbc3a28c2ae7c8f0ea62df">More...</a><br /></td></tr>
<tr class="separator:ga22f779decacbc3a28c2ae7c8f0ea62df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f163637d808fac7afe8c2e59475655b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_d_a998_x___functions___audio.html#ga4f163637d808fac7afe8c2e59475655b">tda998x_aud_set_clk_enable</a> (struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *dev, uint8_t en)</td></tr>
<tr class="memdesc:ga4f163637d808fac7afe8c2e59475655b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Audio Clock Port Enable.  <a href="#ga4f163637d808fac7afe8c2e59475655b">More...</a><br /></td></tr>
<tr class="separator:ga4f163637d808fac7afe8c2e59475655b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2ef08e99c2ca81c91c3a7643f1993fb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_d_a998_x___functions___audio.html#gae2ef08e99c2ca81c91c3a7643f1993fb">tda998x_aud_reset_cts</a> (struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *dev)</td></tr>
<tr class="memdesc:gae2ef08e99c2ca81c91c3a7643f1993fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset Audio CTS.  <a href="#gae2ef08e99c2ca81c91c3a7643f1993fb">More...</a><br /></td></tr>
<tr class="separator:gae2ef08e99c2ca81c91c3a7643f1993fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0b2935dc7209948217498856b971653"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_d_a998_x___functions___audio.html#gaa0b2935dc7209948217498856b971653">tda998x_aud_set_config</a> (struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *dev, enum <a class="el" href="group___t_d_a998_x___audio.html#gaaa8fcf3ddbe3619646406ca59bbc7ae3">tda998x_aud_fmt</a> aud_fmt, enum <a class="el" href="group___t_d_a998_x___audio.html#gac865a1e02f20e86d6c59b4e383855f65">tda998x_aud_i2s_fmt</a> i2s_fmt, uint8_t i2s_chan, uint8_t dsd_chan, enum <a class="el" href="group___t_d_a998_x___audio.html#ga66585350adf4e379eeca658f95670afd">tda998x_clkpol_dsd</a> dsd_clkpol, enum <a class="el" href="group___t_d_a998_x___audio.html#ga0e25b8cfa7da2da7ae7f4f7c516e80fe">tda998x_swap_dsd</a> dsd_swap, uint8_t layout, uint16_t latency, enum <a class="el" href="group___t_d_a998_x___audio.html#gaee673a3d037bdbdfdb0fbd10ec0e3769">tda998x_dst_rate</a> dst_rate)</td></tr>
<tr class="memdesc:gaa0b2935dc7209948217498856b971653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Audio Input Configuration.  <a href="#gaa0b2935dc7209948217498856b971653">More...</a><br /></td></tr>
<tr class="separator:gaa0b2935dc7209948217498856b971653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc8f15481514e30fa1cea510e89ae1b9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_d_a998_x___functions___audio.html#gabc8f15481514e30fa1cea510e89ae1b9">tda998x_aud_set_cts</a> (struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *dev, enum <a class="el" href="group___t_d_a998_x___audio.html#ga8a8c79fb5ee5f8b0d0046640f8b7a25f">tda998x_cts_ref</a> cts_ref, enum <a class="el" href="group___t_d_a998_x___audio.html#ga4583647aa23c59d15dd8270cb7a96eb4">tda998x_aud_rate</a> afs, enum <a class="el" href="group___t_d_a998_x.html#ga2473e43e8d9011dd526b160da99ecb66">tda998x_vid_fmt</a> vout_fmt, enum <a class="el" href="group___t_d_a998_x___h_d_m_i___core___registers.html#gaa560e03199cac459922972f053356e09">tda998x_vert_freq</a> vout_freq, uint32_t cts, uint16_t ctsX, enum <a class="el" href="group___t_d_a998_x___audio.html#ga62cfae6cc726327b6c55cfb08dfd09b5">tda998x_ctsk</a> ctsK, enum <a class="el" href="group___t_d_a998_x___audio.html#gaf00bdabd67c86a01f9c47bc03584f0a9">tda998x_ctsm</a> ctsM, enum <a class="el" href="group___t_d_a998_x___audio.html#gaee673a3d037bdbdfdb0fbd10ec0e3769">tda998x_dst_rate</a> dst_rate)</td></tr>
<tr class="memdesc:gabc8f15481514e30fa1cea510e89ae1b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Audio CTS.  <a href="#gabc8f15481514e30fa1cea510e89ae1b9">More...</a><br /></td></tr>
<tr class="separator:gabc8f15481514e30fa1cea510e89ae1b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabde822a22781c5fdfff9d5246619e064"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_d_a998_x___functions___audio.html#gabde822a22781c5fdfff9d5246619e064">tda998x_aud_set_chan_status</a> (struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *dev, uint8_t pcm_id, uint8_t fmt_info, uint8_t copyright, uint8_t categoryCode, enum <a class="el" href="group___t_d_a998_x___audio.html#ga4583647aa23c59d15dd8270cb7a96eb4">tda998x_aud_rate</a> samp_freq, uint8_t clk_acc, uint8_t maxword_len, uint8_t word_len, uint8_t origsamp_freq)</td></tr>
<tr class="memdesc:gabde822a22781c5fdfff9d5246619e064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Audio Output Channel Status.  <a href="#gabde822a22781c5fdfff9d5246619e064">More...</a><br /></td></tr>
<tr class="separator:gabde822a22781c5fdfff9d5246619e064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga707e89d4fd73a89974fe70af92cf5d1c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_d_a998_x___functions___audio.html#ga707e89d4fd73a89974fe70af92cf5d1c">tda998x_aud_set_chan_status_mapping</a> (struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *dev, uint8_t src_left[4], uint8_t chan_left[4], uint8_t src_right[4], uint8_t chan_right[4])</td></tr>
<tr class="memdesc:ga707e89d4fd73a89974fe70af92cf5d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Audio Channel Status Mapping.  <a href="#ga707e89d4fd73a89974fe70af92cf5d1c">More...</a><br /></td></tr>
<tr class="separator:ga707e89d4fd73a89974fe70af92cf5d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52e65d828f685a49c2113f236786ff1c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_d_a998_x___functions___audio.html#ga52e65d828f685a49c2113f236786ff1c">tda998x_aud_set_mute</a> (struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *dev, bool mute)</td></tr>
<tr class="memdesc:ga52e65d828f685a49c2113f236786ff1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Audio Mute.  <a href="#ga52e65d828f685a49c2113f236786ff1c">More...</a><br /></td></tr>
<tr class="separator:ga52e65d828f685a49c2113f236786ff1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gae2ef08e99c2ca81c91c3a7643f1993fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2ef08e99c2ca81c91c3a7643f1993fb">&#9670;&nbsp;</a></span>tda998x_aud_reset_cts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tda998x_aud_reset_cts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="tda998x_8c.html">lib/tda998x.c</a>&gt;</code></p>

<p>Reset Audio CTS. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Finish register mask write sequence to reset CTS</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>TDA998x device structure pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero error status otherwise </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>Define reset register table </dd></dl>
<div class="fragment"><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;{   <span class="comment">/* Reset and release the CTS generator */</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">//  return write_reg_mask_table(dev, &amp;kResetCtsGenerator[0]);</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <span class="keywordflow">return</span> 0;}</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div><!-- fragment -->
</div>
</div>
<a id="gabde822a22781c5fdfff9d5246619e064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabde822a22781c5fdfff9d5246619e064">&#9670;&nbsp;</a></span>tda998x_aud_set_chan_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tda998x_aud_set_chan_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pcm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>fmt_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>copyright</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>categoryCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#ga4583647aa23c59d15dd8270cb7a96eb4">tda998x_aud_rate</a>&#160;</td>
          <td class="paramname"><em>samp_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clk_acc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>maxword_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>word_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>origsamp_freq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="tda998x_8c.html">lib/tda998x.c</a>&gt;</code></p>

<p>Set Audio Output Channel Status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>TDA998x device structure pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero error status otherwise </dd></dl>
<div class="fragment"><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                                   {</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,           <a class="code" href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa0faa9e24cdd92d195448fc79f841477a20d3b1536a6382d88ed33e6d04d38047">VIP_CNTRL_4</a>,</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            VIP_CNTRL_4_BLNKIT_MASK | VIP_CNTRL_4_BLC_MASK,</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            (uint8_t) src | (uint8_t) code);</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="keywordflow">return</span> 0;}</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span>tda998x_vidin_set_config(<span class="keyword">struct</span> <a class="code" href="structtda998x__dev.html">tda998x_dev</a> *dev,     <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x.html#ga0f8c7fe575665299987dc4f981066709">tda998x_vidin_mode</a> vin_mode,</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x.html#ga2473e43e8d9011dd526b160da99ecb66">tda998x_vid_fmt</a> vout_fmt,      <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x.html#ga1f7fc7b6502b9a864d1b1bc013873897">tda998x_format_3d</a> format_3d,</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___h_d_m_i___core___registers.html#ga40c30b514c239c113abc24fd90a8bd07">tda998x_pix_edge</a> edge,     <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___video___in.html#gadff3f646b84b6bf384cf4d4fe6afea5e">tda998x_pix_rate</a> pix_rate,</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___video___in.html#ga02da4873b6f9db1a67f81327587e6ea5">tda998x_upsample</a> upsampleMode){</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    uint8_t ssd = 0;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    uint8_t vip_cntrl_4, hvf_cntrl_1, pll_serial_3, sel_clk;</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="keyword">struct </span><a class="code" href="structtda998x__vidin__cfg.html">tda998x_vidin_cfg</a> *vidin_cfg;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structvidfmt__desc.html">vidfmt_desc</a> *desc;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    desc = get_vidfmt_desc(vout_fmt);</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    <span class="keywordflow">if</span> (desc == NULL)</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        <span class="keywordflow">return</span> ERR_NOT_FOUND;</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment">//  if (edge != PIXEDGE_NO_CHANGE) {</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="comment">//      ret = write_reg_mask(dev,</span></div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="comment">//              VIP_CNTRL_3,</span></div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="comment">//              VIP_CNTRL_3_EDGE,</span></div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="comment">//              (uint8_t) edge);</span></div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment">//      if (ret &lt; 0)</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">//          return ret;</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment">//  }</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="comment">//  if (pix_rate != PIXRATE_NO_CHANGE) {</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="comment">//      vidin_cfg-&gt;pix_rate = pix_rate;</span></div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="comment">//  }</span></div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;</div><div class="ttc" id="group___t_d_a998_x___video___in_html_ga02da4873b6f9db1a67f81327587e6ea5"><div class="ttname"><a href="group___t_d_a998_x___video___in.html#ga02da4873b6f9db1a67f81327587e6ea5">tda998x_upsample</a></div><div class="ttdeci">tda998x_upsample</div><div class="ttdef"><b>Definition:</b> tda998x.h:145</div></div>
<div class="ttc" id="group___t_d_a998_x_html_ga0f8c7fe575665299987dc4f981066709"><div class="ttname"><a href="group___t_d_a998_x.html#ga0f8c7fe575665299987dc4f981066709">tda998x_vidin_mode</a></div><div class="ttdeci">tda998x_vidin_mode</div><div class="ttdef"><b>Definition:</b> tda998x.h:122</div></div>
<div class="ttc" id="structtda998x__dev_html"><div class="ttname"><a href="structtda998x__dev.html">tda998x_dev</a></div><div class="ttdoc">TDA998X device. </div><div class="ttdef"><b>Definition:</b> tda998x.h:444</div></div>
<div class="ttc" id="group___t_d_a998_x___h_d_m_i___core___registers_html_ga40c30b514c239c113abc24fd90a8bd07"><div class="ttname"><a href="group___t_d_a998_x___h_d_m_i___core___registers.html#ga40c30b514c239c113abc24fd90a8bd07">tda998x_pix_edge</a></div><div class="ttdeci">tda998x_pix_edge</div><div class="ttdef"><b>Definition:</b> tda998x.c:911</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_ga0e3c7717dc1e066aadf0cdd6802690d4"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a></div><div class="ttdeci">static int write_reg_mask(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t mask, uint8_t val)</div><div class="ttdoc">Register Mask Write Write a value with mask bits to a register. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1258</div></div>
<div class="ttc" id="group___t_d_a998_x_html_ga1f7fc7b6502b9a864d1b1bc013873897"><div class="ttname"><a href="group___t_d_a998_x.html#ga1f7fc7b6502b9a864d1b1bc013873897">tda998x_format_3d</a></div><div class="ttdeci">tda998x_format_3d</div><div class="ttdef"><b>Definition:</b> tda998x.h:183</div></div>
<div class="ttc" id="group___t_d_a998_x___h_d_m_i___core___registers_html_ggaa0faa9e24cdd92d195448fc79f841477a20d3b1536a6382d88ed33e6d04d38047"><div class="ttname"><a href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa0faa9e24cdd92d195448fc79f841477a20d3b1536a6382d88ed33e6d04d38047">VIP_CNTRL_4</a></div><div class="ttdef"><b>Definition:</b> tda998x.c:628</div></div>
<div class="ttc" id="structvidfmt__desc_html"><div class="ttname"><a href="structvidfmt__desc.html">vidfmt_desc</a></div><div class="ttdef"><b>Definition:</b> tda998x.c:1392</div></div>
<div class="ttc" id="structtda998x__vidin__cfg_html"><div class="ttname"><a href="structtda998x__vidin__cfg.html">tda998x_vidin_cfg</a></div><div class="ttdoc">Video Input Configuration. </div><div class="ttdef"><b>Definition:</b> tda998x.h:266</div></div>
<div class="ttc" id="group___t_d_a998_x___video___in_html_gadff3f646b84b6bf384cf4d4fe6afea5e"><div class="ttname"><a href="group___t_d_a998_x___video___in.html#gadff3f646b84b6bf384cf4d4fe6afea5e">tda998x_pix_rate</a></div><div class="ttdeci">tda998x_pix_rate</div><div class="ttdef"><b>Definition:</b> tda998x.h:139</div></div>
<div class="ttc" id="group___t_d_a998_x_html_ga2473e43e8d9011dd526b160da99ecb66"><div class="ttname"><a href="group___t_d_a998_x.html#ga2473e43e8d9011dd526b160da99ecb66">tda998x_vid_fmt</a></div><div class="ttdeci">tda998x_vid_fmt</div><div class="ttdoc">EIA/CEA-861B video format type. </div><div class="ttdef"><b>Definition:</b> tda998x.h:72</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga707e89d4fd73a89974fe70af92cf5d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga707e89d4fd73a89974fe70af92cf5d1c">&#9670;&nbsp;</a></span>tda998x_aud_set_chan_status_mapping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tda998x_aud_set_chan_status_mapping </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>src_left</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>chan_left</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>src_right</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>chan_right</em>[4]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="tda998x_8c.html">lib/tda998x.c</a>&gt;</code></p>

<p>Set Audio Channel Status Mapping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>TDA998x device structure pointer </td></tr>
    <tr><td class="paramname">src_left</td><td>Left channel source </td></tr>
    <tr><td class="paramname">chan_left</td><td>Left channel output </td></tr>
    <tr><td class="paramname">src_right</td><td>Right channel source </td></tr>
    <tr><td class="paramname">chan_right</td><td>Right channel output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero error status otherwise </dd></dl>
<div class="fragment"><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                                                                  {</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;            <span class="keywordflow">switch</span> (vidin_cfg-&gt;mode) {</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a98faca243ec1b6936062aba89ba2c36c">VINMODE_RGB444</a>:</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a83eb86065ac476f8581971415e9ff2f7">VINMODE_YUV444</a>:</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                vip_cntrl_4 &amp;= ~VIP_CNTRL_4_CCIR656;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;                hvf_cntrl_1 &amp;= ~HVF_CNTRL_1_SEMI_PLANAR;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;                pll_serial_3    &amp;= ~PLL_SERIAL_3_SRL_CCIR;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                sel_clk     &amp;= ~SEL_CLK_SEL_VRF_CLK_MASK;</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                vip_cntrl_4 &amp;= ~VIP_CNTRL_4_656_ALT;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a7d1adf09b215bfd624aa9112e621e5ad">VINMODE_CCIR656</a>:</div><div class="ttc" id="group___t_d_a998_x_html_gga0f8c7fe575665299987dc4f981066709a83eb86065ac476f8581971415e9ff2f7"><div class="ttname"><a href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a83eb86065ac476f8581971415e9ff2f7">VINMODE_YUV444</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:125</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga0f8c7fe575665299987dc4f981066709a98faca243ec1b6936062aba89ba2c36c"><div class="ttname"><a href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a98faca243ec1b6936062aba89ba2c36c">VINMODE_RGB444</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:124</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga0f8c7fe575665299987dc4f981066709a7d1adf09b215bfd624aa9112e621e5ad"><div class="ttname"><a href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a7d1adf09b215bfd624aa9112e621e5ad">VINMODE_CCIR656</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:123</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga4f163637d808fac7afe8c2e59475655b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f163637d808fac7afe8c2e59475655b">&#9670;&nbsp;</a></span>tda998x_aud_set_clk_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tda998x_aud_set_clk_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>en</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="tda998x_8c.html">lib/tda998x.c</a>&gt;</code></p>

<p>Set Audio Clock Port Enable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>TDA998x device structure pointer </td></tr>
    <tr><td class="paramname">en</td><td>Clock port enable register value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero error status otherwise </dd></dl>
<div class="fragment"><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;{</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <span class="comment">/* Check parameter */</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">if</span> (dev == NULL)</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        <span class="keywordflow">return</span> ERR_NULL_PARAM;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a>(dev, ENA_ACLK, en);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;}</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_ga5ff7c50b095acc187cdf4078ebb8d884"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a></div><div class="ttdeci">static int write_reg(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t data)</div><div class="ttdoc">Write Register. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1170</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa0b2935dc7209948217498856b971653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0b2935dc7209948217498856b971653">&#9670;&nbsp;</a></span>tda998x_aud_set_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tda998x_aud_set_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#gaaa8fcf3ddbe3619646406ca59bbc7ae3">tda998x_aud_fmt</a>&#160;</td>
          <td class="paramname"><em>aud_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#gac865a1e02f20e86d6c59b4e383855f65">tda998x_aud_i2s_fmt</a>&#160;</td>
          <td class="paramname"><em>i2s_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>i2s_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dsd_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#ga66585350adf4e379eeca658f95670afd">tda998x_clkpol_dsd</a>&#160;</td>
          <td class="paramname"><em>dsd_clkpol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#ga0e25b8cfa7da2da7ae7f4f7c516e80fe">tda998x_swap_dsd</a>&#160;</td>
          <td class="paramname"><em>dsd_swap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>layout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>latency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#gaee673a3d037bdbdfdb0fbd10ec0e3769">tda998x_dst_rate</a>&#160;</td>
          <td class="paramname"><em>dst_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="tda998x_8c.html">lib/tda998x.c</a>&gt;</code></p>

<p>Set Audio Input Configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>TDA998x device structure pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero error status otherwise </dd></dl>
<div class="fragment"><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                                 :</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        reg_val = (uint8_t) REG_VAL_SEL_AIP_I2S;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    </div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="comment">/* configure MUX_AP */</span></div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a>(dev, MUX_AP, MUX_AP_SELECT_I2S);        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            <span class="keywordflow">break</span>;  <span class="keywordflow">case</span> <a class="code" href="group___t_d_a998_x___audio.html#ggaaa8fcf3ddbe3619646406ca59bbc7ae3acda9844ca947c4c50e8f4f7dc7267267">AFMT_OBA</a>:</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        reg_val = (uint8_t) REG_VAL_SEL_AIP_OBA;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="group___t_d_a998_x___audio.html#ggaaa8fcf3ddbe3619646406ca59bbc7ae3adbf4a97001ff2311f64e1ef7d9d974e2">AFMT_HBR</a>:</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        reg_val = (uint8_t) REG_VAL_SEL_AIP_HBR;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <span class="keywordflow">break</span>;  <span class="keywordflow">default</span>:        <span class="keywordflow">return</span> ERR_BAD_PARAM;   }</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="comment">/* Set the audio input processor format to aud_fmt. AIP_CLKSEL_sel_aip */</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev, AIP_CLKSEL, 0x38U, reg_val &lt;&lt; 3);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  </div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="comment">/* Channel status on 1 channel  */</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev, CA_I2S, CA_I2S_HBR_CHSTAT_4, 0);  <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  </div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="comment">/* Select the audio format */</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <span class="keywordflow">if</span> (aud_fmt == <a class="code" href="group___t_d_a998_x___audio.html#ggaaa8fcf3ddbe3619646406ca59bbc7ae3ad2a3dd7ba0be80a4503d1e75db587766">AFMT_I2S</a>) {</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <span class="keywordflow">if</span> (i2s_chan != 32) {</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,                   CA_I2S,</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                    CA_I2S_CA_I2S_MASK,</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                    (uint8_t) i2s_chan);        }</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            <span class="comment">/* Select the I2S format */</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,               I2S_FORMAT,</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                I2S_FORMAT_I2S_FORMAT_MASK,</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                (uint8_t) i2s_fmt);</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aud_fmt == <a class="code" href="group___t_d_a998_x___audio.html#ggaaa8fcf3ddbe3619646406ca59bbc7ae3acda9844ca947c4c50e8f4f7dc7267267">AFMT_OBA</a>) {       ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a>(dev, CA_DSD, dsd_chan);     <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            <span class="keywordflow">return</span> ret; </div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,               AIP_CLKSEL,</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                AIP_CLKSEL_SEL_POL_CLK,</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                (uint8_t) dsd_clkpol);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,               AIP_CNTRL_0,</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                AIP_CNTRL_0_SWAP,               (uint8_t) dsd_swap);        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;            <span class="keywordflow">return</span> ret; } </div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    <span class="comment">/* Set layout and latency */</span>    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,           AIP_CNTRL_0,            AIP_CNTRL_0_LAYOUT,         layout &lt;&lt; 2);   <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a>(dev, LATENCY_RD, (uint8_t) latency);    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <span class="keywordflow">return</span> ret; <span class="keywordflow">return</span> 0;}</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<a class="code" href="group___t_d_a998_x___functions___audio.html#gabc8f15481514e30fa1cea510e89ae1b9">tda998x_aud_set_cts</a>(<span class="keyword">struct</span> <a class="code" href="structtda998x__dev.html">tda998x_dev</a> *dev,        <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___audio.html#ga8a8c79fb5ee5f8b0d0046640f8b7a25f">tda998x_cts_ref</a> cts_ref,</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___audio.html#ga4583647aa23c59d15dd8270cb7a96eb4">tda998x_aud_rate</a> afs,      <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x.html#ga2473e43e8d9011dd526b160da99ecb66">tda998x_vid_fmt</a> vout_fmt,</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___h_d_m_i___core___registers.html#gaa560e03199cac459922972f053356e09">tda998x_vert_freq</a> vout_freq,       uint32_t cts,</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        uint16_t ctsX,      <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___audio.html#ga62cfae6cc726327b6c55cfb08dfd09b5">tda998x_ctsk</a> ctsK,     <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___audio.html#gaf00bdabd67c86a01f9c47bc03584f0a9">tda998x_ctsm</a> ctsM,     <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___audio.html#gaee673a3d037bdbdfdb0fbd10ec0e3769">tda998x_dst_rate</a> dst_rate)</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;{   <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    uint8_t reg_val;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    uint8_t pixClk;         <span class="comment">/* Pixel clock index */</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    uint32_t acrN;          <span class="comment">/* Audio clock recovery N */</span> </div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="comment">/* Return if sink is not an HDMI device */</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordflow">if</span> (dev-&gt;sink != <a class="code" href="group___t_d_a998_x.html#ggad08fa447c674bbe3aeb29cbdaca69acaa789dd80264a30ba9c638b03dd776e7ef">SINK_HDMI</a>)</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        <span class="keywordflow">return</span> ERR_NOT_PERMITTED;   <span class="keywordflow">if</span> ((vout_fmt &gt;= <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66aa0381c9789a258d4ea53605874028234">VFMT_01_640x480p_60Hz</a>) &amp;&amp;</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            (vout_fmt &lt;= <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66afb842a2ba3d8fd7e9208d58d2d8e51a2">VFMT_62_1280x720p_30Hz</a>)) {     <span class="keywordflow">if</span> (vout_freq == <a class="code" href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa560e03199cac459922972f053356e09a977673dc75efc9cf0147e11306375985">VFREQ_50Hz</a>) {</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <span class="keywordflow">if</span> ((vout_fmt &lt; <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66af1419762802acdd3a85c2f969158922b">VFMT_17_720x576p_50Hz</a>) ||</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                    (vout_fmt &gt; <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66af8c472bf89cc0b7435c4d5c58c86b8fe">VFMT_31_1920x1080p_50Hz</a>))               <span class="keywordflow">return</span> ERR_ILLEGAL_PARAMS;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vout_freq == <a class="code" href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa560e03199cac459922972f053356e09acdeee1db9118b513656e10425a0c8736">VFREQ_24Hz</a>) {</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;            <span class="keywordflow">if</span> ((vout_fmt != <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66ad89773028ec4dd84662ad8522571ad7a">VFMT_32_1920x1080p_24Hz</a>) &amp;&amp;</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                    (vout_fmt != <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a8bd2c8154766a6f635a08aa0b921aeda">VFMT_60_1280x720p_24Hz</a>))               <span class="keywordflow">return</span> ERR_ILLEGAL_PARAMS;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vout_freq == <a class="code" href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa560e03199cac459922972f053356e09a5cf2537b41e157dc5359f48d3779e68e">VFREQ_25Hz</a>) {           <span class="keywordflow">if</span> ((vout_fmt != <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a8ebfb58544baceed7bed10d683f0cd0e">VFMT_33_1920x1080p_25Hz</a>) &amp;&amp;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                    (vout_fmt != <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a42fba4f03d67aafa7178b5a78b5bfa12">VFMT_20_1920x1080i_50Hz</a>) &amp;&amp;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                    (vout_fmt != <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a4d52c31a7aa7272d9df8655bb0aec2b9">VFMT_61_1280x720p_25Hz</a>))               <span class="keywordflow">return</span> ERR_ILLEGAL_PARAMS;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vout_freq == <a class="code" href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa560e03199cac459922972f053356e09a41847fb2fc5a3c9430e25e8a225eb062">VFREQ_30Hz</a>) {</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            <span class="keywordflow">if</span> ((vout_fmt != <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66abe3dec727201bbf555dde9fe3430f1bc">VFMT_34_1920x1080p_30Hz</a>) &amp;&amp;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                    (vout_fmt != <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a11c0973417f5b5e66b053c8705f14d28">VFMT_05_1920x1080i_60Hz</a>) &amp;&amp;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                    (vout_fmt != <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66afb842a2ba3d8fd7e9208d58d2d8e51a2">VFMT_62_1280x720p_30Hz</a>))</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                <span class="keywordflow">return</span> ERR_ILLEGAL_PARAMS;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        } <span class="keywordflow">else</span> {            <span class="keywordflow">if</span> (vout_fmt &gt;= <a class="code" href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66af1419762802acdd3a85c2f969158922b">VFMT_17_720x576p_50Hz</a>)              <span class="keywordflow">return</span> ERR_ILLEGAL_PARAMS;      }   }</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  </div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="comment">/* Check for auto or manual CTS */</span></div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">if</span> (cts == 0) {</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <span class="comment">/* Auto */</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev, AIP_CNTRL_0, AIP_CNTRL_0_ACR_MAN, 0);     <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            <span class="keywordflow">return</span> ret; } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        <span class="comment">/* Manual */</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,               AIP_CNTRL_0,                AIP_CNTRL_0_ACR_MAN,                AIP_CNTRL_0_ACR_MAN);       <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="keywordflow">return</span> ret; } </div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    <span class="comment">/* Derive M and K from X? */</span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <span class="keywordflow">if</span> ((ctsM == <a class="code" href="group___t_d_a998_x___audio.html#ggaf00bdabd67c86a01f9c47bc03584f0a9a01be2de745e63a00d0d33b54ae9e72f4">CTSMTS_USE_CTSX</a>) ||</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            (ctsK == <a class="code" href="group___t_d_a998_x___audio.html#gga62cfae6cc726327b6c55cfb08dfd09b5a887a43cd05838ce3f06b75cf2f182936">CTSK_USE_CTSX</a>)) {<span class="comment">//        ctsM = (enum tda998x_ctsm) kCtsXToMK[ctsX][0];//        ctsK = (enum tda998x_ctsk) kCtsXToMK[ctsX][1];  }</span></div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="comment">/* Set the Post-divider measured timestamp factor */</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    reg_val = (uint8_t) ctsM;   ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,           CTS_N_RW,           CTS_N_M_SEL_MASK,           reg_val &lt;&lt; 4);  <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;        <span class="keywordflow">return</span> ret; </div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="comment">/* Set the predivider scale */</span>  ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a> (dev,          CTS_N_RW,</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            CTS_N_K_SEL_MASK,           (uint8_t) ctsK);    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66a4d52c31a7aa7272d9df8655bb0aec2b9"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a4d52c31a7aa7272d9df8655bb0aec2b9">VFMT_61_1280x720p_25Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:113</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_gaee673a3d037bdbdfdb0fbd10ec0e3769"><div class="ttname"><a href="group___t_d_a998_x___audio.html#gaee673a3d037bdbdfdb0fbd10ec0e3769">tda998x_dst_rate</a></div><div class="ttdeci">tda998x_dst_rate</div><div class="ttdoc">DSD data transfer rates. </div><div class="ttdef"><b>Definition:</b> tda998x.h:388</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_ga62cfae6cc726327b6c55cfb08dfd09b5"><div class="ttname"><a href="group___t_d_a998_x___audio.html#ga62cfae6cc726327b6c55cfb08dfd09b5">tda998x_ctsk</a></div><div class="ttdeci">tda998x_ctsk</div><div class="ttdef"><b>Definition:</b> tda998x.h:321</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66afb842a2ba3d8fd7e9208d58d2d8e51a2"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66afb842a2ba3d8fd7e9208d58d2d8e51a2">VFMT_62_1280x720p_30Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:114</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66aa0381c9789a258d4ea53605874028234"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66aa0381c9789a258d4ea53605874028234">VFMT_01_640x480p_60Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:74</div></div>
<div class="ttc" id="group___t_d_a998_x___h_d_m_i___core___registers_html_ggaa560e03199cac459922972f053356e09a977673dc75efc9cf0147e11306375985"><div class="ttname"><a href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa560e03199cac459922972f053356e09a977673dc75efc9cf0147e11306375985">VFREQ_50Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.c:906</div></div>
<div class="ttc" id="group___t_d_a998_x___h_d_m_i___core___registers_html_ggaa560e03199cac459922972f053356e09a41847fb2fc5a3c9430e25e8a225eb062"><div class="ttname"><a href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa560e03199cac459922972f053356e09a41847fb2fc5a3c9430e25e8a225eb062">VFREQ_30Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.c:905</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66abe3dec727201bbf555dde9fe3430f1bc"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66abe3dec727201bbf555dde9fe3430f1bc">VFMT_34_1920x1080p_30Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:107</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_ga8a8c79fb5ee5f8b0d0046640f8b7a25f"><div class="ttname"><a href="group___t_d_a998_x___audio.html#ga8a8c79fb5ee5f8b0d0046640f8b7a25f">tda998x_cts_ref</a></div><div class="ttdeci">tda998x_cts_ref</div><div class="ttdef"><b>Definition:</b> tda998x.h:314</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_ga5ff7c50b095acc187cdf4078ebb8d884"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a></div><div class="ttdeci">static int write_reg(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t data)</div><div class="ttdoc">Write Register. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1170</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_ggaaa8fcf3ddbe3619646406ca59bbc7ae3acda9844ca947c4c50e8f4f7dc7267267"><div class="ttname"><a href="group___t_d_a998_x___audio.html#ggaaa8fcf3ddbe3619646406ca59bbc7ae3acda9844ca947c4c50e8f4f7dc7267267">AFMT_OBA</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:308</div></div>
<div class="ttc" id="structtda998x__dev_html"><div class="ttname"><a href="structtda998x__dev.html">tda998x_dev</a></div><div class="ttdoc">TDA998X device. </div><div class="ttdef"><b>Definition:</b> tda998x.h:444</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_ggaaa8fcf3ddbe3619646406ca59bbc7ae3ad2a3dd7ba0be80a4503d1e75db587766"><div class="ttname"><a href="group___t_d_a998_x___audio.html#ggaaa8fcf3ddbe3619646406ca59bbc7ae3ad2a3dd7ba0be80a4503d1e75db587766">AFMT_I2S</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:307</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_ga4583647aa23c59d15dd8270cb7a96eb4"><div class="ttname"><a href="group___t_d_a998_x___audio.html#ga4583647aa23c59d15dd8270cb7a96eb4">tda998x_aud_rate</a></div><div class="ttdeci">tda998x_aud_rate</div><div class="ttdef"><b>Definition:</b> tda998x.h:339</div></div>
<div class="ttc" id="group___t_d_a998_x___h_d_m_i___core___registers_html_ggaa560e03199cac459922972f053356e09a5cf2537b41e157dc5359f48d3779e68e"><div class="ttname"><a href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa560e03199cac459922972f053356e09a5cf2537b41e157dc5359f48d3779e68e">VFREQ_25Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.c:904</div></div>
<div class="ttc" id="group___t_d_a998_x___h_d_m_i___core___registers_html_ggaa560e03199cac459922972f053356e09acdeee1db9118b513656e10425a0c8736"><div class="ttname"><a href="group___t_d_a998_x___h_d_m_i___core___registers.html#ggaa560e03199cac459922972f053356e09acdeee1db9118b513656e10425a0c8736">VFREQ_24Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.c:903</div></div>
<div class="ttc" id="group___t_d_a998_x___h_d_m_i___core___registers_html_gaa560e03199cac459922972f053356e09"><div class="ttname"><a href="group___t_d_a998_x___h_d_m_i___core___registers.html#gaa560e03199cac459922972f053356e09">tda998x_vert_freq</a></div><div class="ttdeci">tda998x_vert_freq</div><div class="ttdoc">Vertical output frequencies. </div><div class="ttdef"><b>Definition:</b> tda998x.c:902</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66a8bd2c8154766a6f635a08aa0b921aeda"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a8bd2c8154766a6f635a08aa0b921aeda">VFMT_60_1280x720p_24Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:112</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_ga0e3c7717dc1e066aadf0cdd6802690d4"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a></div><div class="ttdeci">static int write_reg_mask(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t mask, uint8_t val)</div><div class="ttdoc">Register Mask Write Write a value with mask bits to a register. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1258</div></div>
<div class="ttc" id="group___t_d_a998_x_html_ggad08fa447c674bbe3aeb29cbdaca69acaa789dd80264a30ba9c638b03dd776e7ef"><div class="ttname"><a href="group___t_d_a998_x.html#ggad08fa447c674bbe3aeb29cbdaca69acaa789dd80264a30ba9c638b03dd776e7ef">SINK_HDMI</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:65</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66a11c0973417f5b5e66b053c8705f14d28"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a11c0973417f5b5e66b053c8705f14d28">VFMT_05_1920x1080i_60Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:78</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___audio_html_gabc8f15481514e30fa1cea510e89ae1b9"><div class="ttname"><a href="group___t_d_a998_x___functions___audio.html#gabc8f15481514e30fa1cea510e89ae1b9">tda998x_aud_set_cts</a></div><div class="ttdeci">static int tda998x_aud_set_cts(struct tda998x_dev *dev, enum tda998x_cts_ref cts_ref, enum tda998x_aud_rate afs, enum tda998x_vid_fmt vout_fmt, enum tda998x_vert_freq vout_freq, uint32_t cts, uint16_t ctsX, enum tda998x_ctsk ctsK, enum tda998x_ctsm ctsM, enum tda998x_dst_rate dst_rate)</div><div class="ttdoc">Set Audio CTS. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1819</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_ggaaa8fcf3ddbe3619646406ca59bbc7ae3adbf4a97001ff2311f64e1ef7d9d974e2"><div class="ttname"><a href="group___t_d_a998_x___audio.html#ggaaa8fcf3ddbe3619646406ca59bbc7ae3adbf4a97001ff2311f64e1ef7d9d974e2">AFMT_HBR</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:310</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66a42fba4f03d67aafa7178b5a78b5bfa12"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a42fba4f03d67aafa7178b5a78b5bfa12">VFMT_20_1920x1080i_50Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:93</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_gga62cfae6cc726327b6c55cfb08dfd09b5a887a43cd05838ce3f06b75cf2f182936"><div class="ttname"><a href="group___t_d_a998_x___audio.html#gga62cfae6cc726327b6c55cfb08dfd09b5a887a43cd05838ce3f06b75cf2f182936">CTSK_USE_CTSX</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:327</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66ad89773028ec4dd84662ad8522571ad7a"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66ad89773028ec4dd84662ad8522571ad7a">VFMT_32_1920x1080p_24Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:105</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66a8ebfb58544baceed7bed10d683f0cd0e"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66a8ebfb58544baceed7bed10d683f0cd0e">VFMT_33_1920x1080p_25Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:106</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_gaf00bdabd67c86a01f9c47bc03584f0a9"><div class="ttname"><a href="group___t_d_a998_x___audio.html#gaf00bdabd67c86a01f9c47bc03584f0a9">tda998x_ctsm</a></div><div class="ttdeci">tda998x_ctsm</div><div class="ttdef"><b>Definition:</b> tda998x.h:331</div></div>
<div class="ttc" id="group___t_d_a998_x_html_ga2473e43e8d9011dd526b160da99ecb66"><div class="ttname"><a href="group___t_d_a998_x.html#ga2473e43e8d9011dd526b160da99ecb66">tda998x_vid_fmt</a></div><div class="ttdeci">tda998x_vid_fmt</div><div class="ttdoc">EIA/CEA-861B video format type. </div><div class="ttdef"><b>Definition:</b> tda998x.h:72</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66af1419762802acdd3a85c2f969158922b"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66af1419762802acdd3a85c2f969158922b">VFMT_17_720x576p_50Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:90</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga2473e43e8d9011dd526b160da99ecb66af8c472bf89cc0b7435c4d5c58c86b8fe"><div class="ttname"><a href="group___t_d_a998_x.html#gga2473e43e8d9011dd526b160da99ecb66af8c472bf89cc0b7435c4d5c58c86b8fe">VFMT_31_1920x1080p_50Hz</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:104</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_ggaf00bdabd67c86a01f9c47bc03584f0a9a01be2de745e63a00d0d33b54ae9e72f4"><div class="ttname"><a href="group___t_d_a998_x___audio.html#ggaf00bdabd67c86a01f9c47bc03584f0a9a01be2de745e63a00d0d33b54ae9e72f4">CTSMTS_USE_CTSX</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:336</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gabc8f15481514e30fa1cea510e89ae1b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabc8f15481514e30fa1cea510e89ae1b9">&#9670;&nbsp;</a></span>tda998x_aud_set_cts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tda998x_aud_set_cts </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#ga8a8c79fb5ee5f8b0d0046640f8b7a25f">tda998x_cts_ref</a>&#160;</td>
          <td class="paramname"><em>cts_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#ga4583647aa23c59d15dd8270cb7a96eb4">tda998x_aud_rate</a>&#160;</td>
          <td class="paramname"><em>afs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x.html#ga2473e43e8d9011dd526b160da99ecb66">tda998x_vid_fmt</a>&#160;</td>
          <td class="paramname"><em>vout_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___h_d_m_i___core___registers.html#gaa560e03199cac459922972f053356e09">tda998x_vert_freq</a>&#160;</td>
          <td class="paramname"><em>vout_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ctsX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#ga62cfae6cc726327b6c55cfb08dfd09b5">tda998x_ctsk</a>&#160;</td>
          <td class="paramname"><em>ctsK</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#gaf00bdabd67c86a01f9c47bc03584f0a9">tda998x_ctsm</a>&#160;</td>
          <td class="paramname"><em>ctsM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group___t_d_a998_x___audio.html#gaee673a3d037bdbdfdb0fbd10ec0e3769">tda998x_dst_rate</a>&#160;</td>
          <td class="paramname"><em>dst_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="tda998x_8c.html">lib/tda998x.c</a>&gt;</code></p>

<p>Set Audio CTS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>TDA998x device structure pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero error status otherwise </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>Define CTS values </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>Reset and release the CTS generator </dd></dl>
<div class="fragment"><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                  {</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <span class="comment">/* Set manual ACR CTS [19 to 16 */</span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        reg_val = (uint8_t) (cts &gt;&gt; 16);        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a> (dev, ACR_CTS_2, reg_val);      <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        <span class="comment">/* Set manual ACR CTS [15 to 8] */</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        reg_val = (uint8_t) (cts &gt;&gt; 8);</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a> (dev, ACR_CTS_1, reg_val);      <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            <span class="keywordflow">return</span> ret; </div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <span class="comment">/* Set manual ACR CTS [7 to 0] */</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        reg_val = (uint8_t) cts;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a> (dev, ACR_CTS_0, reg_val);      <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;            <span class="keywordflow">return</span> ret; }</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="comment">/* Set the CTS clock reference register according to cts_ref */</span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    reg_val = (uint8_t) cts_ref;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,           AIP_CLKSEL,         AIP_CLKSEL_SEL_FS_MASK,         reg_val);</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment">//  ret = write_reg_mask_table(dev, &amp;kResetCtsGenerator[0]);</span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;    <span class="keywordflow">return</span> ret;}</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<a class="code" href="group___t_d_a998_x___functions___audio.html#gabde822a22781c5fdfff9d5246619e064">tda998x_aud_set_chan_status</a>(<span class="keyword">struct</span> <a class="code" href="structtda998x__dev.html">tda998x_dev</a> *dev,</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        uint8_t pcm_id,     uint8_t fmt_info,       uint8_t copyright,</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        uint8_t categoryCode,</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___audio.html#ga4583647aa23c59d15dd8270cb7a96eb4">tda998x_aud_rate</a> samp_freq,</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        uint8_t clk_acc,</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;        uint8_t maxword_len,</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        uint8_t word_len,</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        uint8_t origsamp_freq)</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;{</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    uint8_t buf[4];</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keyword">const</span> uint8_t freq[] = {</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        3,      <span class="comment">/* 32k */</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        0,      <span class="comment">/* 44.1k */</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;        2,      <span class="comment">/* 48k */</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        8,      <span class="comment">/* 88.2k */</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        10,     <span class="comment">/* 96k */</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        12,     <span class="comment">/* 176.4k */</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        14,     <span class="comment">/* 192k */</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        9,      <span class="comment">/* 768k */</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        1,      <span class="comment">/* Not indicated */</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    };</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="comment">/* Return if sink is not an HDMI device */</span></div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <span class="keywordflow">if</span> (dev-&gt;sink != <a class="code" href="group___t_d_a998_x.html#ggad08fa447c674bbe3aeb29cbdaca69acaa789dd80264a30ba9c638b03dd776e7ef">SINK_HDMI</a>)</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <span class="keywordflow">return</span> ERR_NOT_PERMITTED;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    buf[0] = ((uint8_t) fmt_info &lt;&lt; 3) |</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            ((uint8_t) copyright &lt;&lt; 2) |</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            ((uint8_t) pcm_id &lt;&lt; 1);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    buf[1] = categoryCode;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    buf[2] = ((uint8_t) clk_acc &lt;&lt; 4) | freq[samp_freq];</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    buf[3] = ((uint8_t) origsamp_freq &lt;&lt; 4) |</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            ((uint8_t) word_len &lt;&lt; 1) |         (uint8_t) maxword_len;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    <span class="comment">/* Write 4 Channel Status bytes */</span></div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#gab8ef57443b7f888b186f8204f0b38f48">tda998x_write</a>(dev, CH_STAT_B_0, 4, &amp;buf[0]);</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">return</span> 0;}</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<a class="code" href="group___t_d_a998_x___functions___audio.html#ga707e89d4fd73a89974fe70af92cf5d1c">tda998x_aud_set_chan_status_mapping</a>(<span class="keyword">struct</span> <a class="code" href="structtda998x__dev.html">tda998x_dev</a> *dev,</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        uint8_t src_left[4],        uint8_t chan_left[4],</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        uint8_t src_right[4],</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        uint8_t chan_right[4])</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;{</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    uint8_t buf[2];</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <span class="keywordflow">if</span> (dev-&gt;sink != <a class="code" href="group___t_d_a998_x.html#ggad08fa447c674bbe3aeb29cbdaca69acaa789dd80264a30ba9c638b03dd776e7ef">SINK_HDMI</a>)</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        <span class="keywordflow">return</span> ERR_NOT_PERMITTED;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    buf[0] = (chan_left[0] &lt;&lt; 4) | (src_left[0] &amp; 0xFF);</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    buf[1] = (chan_right[0] &lt;&lt; 4) | (src_right[0] &amp; 0xFF);</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#gab8ef57443b7f888b186f8204f0b38f48">tda998x_write</a>(dev, CH_STAT_B_2_AP0_L, 2, &amp;buf[0]);</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">return</span> 0;}</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span></div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;<a class="code" href="group___t_d_a998_x___functions___audio.html#ga52e65d828f685a49c2113f236786ff1c">tda998x_aud_set_mute</a>(<span class="keyword">struct</span> <a class="code" href="structtda998x__dev.html">tda998x_dev</a> *dev, <span class="keywordtype">bool</span> mute)</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;{</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <span class="keywordflow">if</span> (dev-&gt;sink != <a class="code" href="group___t_d_a998_x.html#ggad08fa447c674bbe3aeb29cbdaca69acaa789dd80264a30ba9c638b03dd776e7ef">SINK_HDMI</a>)</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;        <span class="keywordflow">return</span> ERR_NOT_PERMITTED; </div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordflow">if</span> (mute) {</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,               SR_REG,</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                SR_REG_SR_AUDIO,</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                SR_REG_SR_AUDIO);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev, SR_REG, SR_REG_SR_AUDIO, 0);</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;            <span class="keywordflow">return</span> ret; }</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,           AIP_CNTRL_0,</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            AIP_CNTRL_0_RST_FIFO,</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            mute ? AIP_CNTRL_0_RST_FIFO : 0);</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}<span class="keyword">static</span> <span class="keywordtype">int</span><a class="code" href="group___t_d_a998_x___functions.html#ga69c594b1465c91af4e8fa8bd2c188dfe">tda998x_set_tmds_output</a>(<span class="keyword">struct</span> <a class="code" href="structtda998x__dev.html">tda998x_dev</a> *dev, <span class="keyword">enum</span> <a class="code" href="group___t_d_a998_x___h_d_m_i___core___registers.html#ga37590466e79daa8dc0589f8f77c4f5de">buffer_out_srl_force</a> tmds){</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="comment">/* Set the TMDS output mode */</span></div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a>(dev,</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            BUFFER_OUT,</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            BUFFER_OUT_SRL_FORCE_MASK,</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            (uint8_t) tmds);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="ttc" id="group___t_d_a998_x___h_d_m_i___core___registers_html_ga37590466e79daa8dc0589f8f77c4f5de"><div class="ttname"><a href="group___t_d_a998_x___h_d_m_i___core___registers.html#ga37590466e79daa8dc0589f8f77c4f5de">buffer_out_srl_force</a></div><div class="ttdeci">buffer_out_srl_force</div><div class="ttdoc">Buffer Output Serializer Force Enumeration. </div><div class="ttdef"><b>Definition:</b> tda998x.c:510</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_ga5ff7c50b095acc187cdf4078ebb8d884"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a></div><div class="ttdeci">static int write_reg(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t data)</div><div class="ttdoc">Write Register. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1170</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_gab8ef57443b7f888b186f8204f0b38f48"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#gab8ef57443b7f888b186f8204f0b38f48">tda998x_write</a></div><div class="ttdeci">static int tda998x_write(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t len, uint8_t *data)</div><div class="ttdoc">Write Data. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1134</div></div>
<div class="ttc" id="structtda998x__dev_html"><div class="ttname"><a href="structtda998x__dev.html">tda998x_dev</a></div><div class="ttdoc">TDA998X device. </div><div class="ttdef"><b>Definition:</b> tda998x.h:444</div></div>
<div class="ttc" id="group___t_d_a998_x___audio_html_ga4583647aa23c59d15dd8270cb7a96eb4"><div class="ttname"><a href="group___t_d_a998_x___audio.html#ga4583647aa23c59d15dd8270cb7a96eb4">tda998x_aud_rate</a></div><div class="ttdeci">tda998x_aud_rate</div><div class="ttdef"><b>Definition:</b> tda998x.h:339</div></div>
<div class="ttc" id="group___t_d_a998_x___functions_html_ga69c594b1465c91af4e8fa8bd2c188dfe"><div class="ttname"><a href="group___t_d_a998_x___functions.html#ga69c594b1465c91af4e8fa8bd2c188dfe">tda998x_set_tmds_output</a></div><div class="ttdeci">static int tda998x_set_tmds_output(struct tda998x_dev *dev, enum buffer_out_srl_force tmds)</div><div class="ttdoc">Set TMDS Output. </div><div class="ttdef"><b>Definition:</b> tda998x.c:2128</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___audio_html_ga707e89d4fd73a89974fe70af92cf5d1c"><div class="ttname"><a href="group___t_d_a998_x___functions___audio.html#ga707e89d4fd73a89974fe70af92cf5d1c">tda998x_aud_set_chan_status_mapping</a></div><div class="ttdeci">static int tda998x_aud_set_chan_status_mapping(struct tda998x_dev *dev, uint8_t src_left[4], uint8_t chan_left[4], uint8_t src_right[4], uint8_t chan_right[4])</div><div class="ttdoc">Set Audio Channel Status Mapping. </div><div class="ttdef"><b>Definition:</b> tda998x.c:2057</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_ga0e3c7717dc1e066aadf0cdd6802690d4"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#ga0e3c7717dc1e066aadf0cdd6802690d4">write_reg_mask</a></div><div class="ttdeci">static int write_reg_mask(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t mask, uint8_t val)</div><div class="ttdoc">Register Mask Write Write a value with mask bits to a register. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1258</div></div>
<div class="ttc" id="group___t_d_a998_x_html_ggad08fa447c674bbe3aeb29cbdaca69acaa789dd80264a30ba9c638b03dd776e7ef"><div class="ttname"><a href="group___t_d_a998_x.html#ggad08fa447c674bbe3aeb29cbdaca69acaa789dd80264a30ba9c638b03dd776e7ef">SINK_HDMI</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:65</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___audio_html_gabde822a22781c5fdfff9d5246619e064"><div class="ttname"><a href="group___t_d_a998_x___functions___audio.html#gabde822a22781c5fdfff9d5246619e064">tda998x_aud_set_chan_status</a></div><div class="ttdeci">static int tda998x_aud_set_chan_status(struct tda998x_dev *dev, uint8_t pcm_id, uint8_t fmt_info, uint8_t copyright, uint8_t categoryCode, enum tda998x_aud_rate samp_freq, uint8_t clk_acc, uint8_t maxword_len, uint8_t word_len, uint8_t origsamp_freq)</div><div class="ttdoc">Set Audio Output Channel Status. </div><div class="ttdef"><b>Definition:</b> tda998x.c:2000</div></div>
<div class="ttc" id="group___t_d_a998_x___functions___audio_html_ga52e65d828f685a49c2113f236786ff1c"><div class="ttname"><a href="group___t_d_a998_x___functions___audio.html#ga52e65d828f685a49c2113f236786ff1c">tda998x_aud_set_mute</a></div><div class="ttdeci">static int tda998x_aud_set_mute(struct tda998x_dev *dev, bool mute)</div><div class="ttdoc">Set Audio Mute. </div><div class="ttdef"><b>Definition:</b> tda998x.c:2087</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga52e65d828f685a49c2113f236786ff1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52e65d828f685a49c2113f236786ff1c">&#9670;&nbsp;</a></span>tda998x_aud_set_mute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int tda998x_aud_set_mute </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mute</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="tda998x_8c.html">lib/tda998x.c</a>&gt;</code></p>

<p>Set Audio Mute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>TDA998x device structure pointer </td></tr>
    <tr><td class="paramname">mute</td><td>Mute enable value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero error status otherwise </dd></dl>
<div class="fragment"><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                                                          {</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            <span class="keywordflow">switch</span> (vidin_cfg-&gt;mode) {</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a7d1adf09b215bfd624aa9112e621e5ad">VINMODE_CCIR656</a>:</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;                vip_cntrl_4 |= VIP_CNTRL_4_CCIR656;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;                hvf_cntrl_1 |= HVF_CNTRL_1_SEMI_PLANAR;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                pll_serial_3    &amp;= ~PLL_SERIAL_3_SRL_CCIR;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                sel_clk     &amp;= ~SEL_CLK_SEL_VRF_CLK_MASK;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                vip_cntrl_4 |= VIP_CNTRL_4_656_ALT;</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a98faca243ec1b6936062aba89ba2c36c">VINMODE_RGB444</a>:</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a83eb86065ac476f8581971415e9ff2f7">VINMODE_YUV444</a>:</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                <span class="keywordflow">return</span> ERR_BAD_PARAM;</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;            }</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        }</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a>(dev, HVF_CNTRL_1, hvf_cntrl_1);</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a>(dev, PLL_SERIAL_3, pll_serial_3);</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;</div><div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_ga5ff7c50b095acc187cdf4078ebb8d884"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a></div><div class="ttdeci">static int write_reg(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t data)</div><div class="ttdoc">Write Register. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1170</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga0f8c7fe575665299987dc4f981066709a83eb86065ac476f8581971415e9ff2f7"><div class="ttname"><a href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a83eb86065ac476f8581971415e9ff2f7">VINMODE_YUV444</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:125</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga0f8c7fe575665299987dc4f981066709a98faca243ec1b6936062aba89ba2c36c"><div class="ttname"><a href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a98faca243ec1b6936062aba89ba2c36c">VINMODE_RGB444</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:124</div></div>
<div class="ttc" id="group___t_d_a998_x_html_gga0f8c7fe575665299987dc4f981066709a7d1adf09b215bfd624aa9112e621e5ad"><div class="ttname"><a href="group___t_d_a998_x.html#gga0f8c7fe575665299987dc4f981066709a7d1adf09b215bfd624aa9112e621e5ad">VINMODE_CCIR656</a></div><div class="ttdef"><b>Definition:</b> tda998x.h:123</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga22f779decacbc3a28c2ae7c8f0ea62df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22f779decacbc3a28c2ae7c8f0ea62df">&#9670;&nbsp;</a></span>tda998x_aud_set_port_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tda998x_aud_set_port_enable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtda998x__dev.html">tda998x_dev</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>en</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="tda998x_8c.html">lib/tda998x.c</a>&gt;</code></p>

<p>Set Audio Port Enable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>TDA998x device structure pointer </td></tr>
    <tr><td class="paramname">en</td><td>Audio port enable register value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero error status otherwise </dd></dl>
<div class="fragment"><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;{</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keywordtype">int</span> ret;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="comment">/* Check parameter */</span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">if</span> (dev == NULL)</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keywordflow">return</span> ERR_NULL_PARAM;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    ret = <a class="code" href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a>(dev, ENA_AP, en);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">if</span> (ret &lt; 0)</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;}</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="ttc" id="group___t_d_a998_x___functions___i2_c_html_ga5ff7c50b095acc187cdf4078ebb8d884"><div class="ttname"><a href="group___t_d_a998_x___functions___i2_c.html#ga5ff7c50b095acc187cdf4078ebb8d884">write_reg</a></div><div class="ttdeci">static int write_reg(struct tda998x_dev *dev, enum tda998x_hdmi_reg reg, uint8_t data)</div><div class="ttdoc">Write Register. </div><div class="ttdef"><b>Definition:</b> tda998x.c:1170</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Aug 1 2018 11:00:24 for piSmasher Configuration Libraries by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
