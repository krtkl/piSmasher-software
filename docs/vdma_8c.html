<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>piSmasher Configuration Libraries: projects/lib/vdma.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxystyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="krtkl-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">piSmasher Configuration Libraries
   </div>
   <div id="projectbrief">piSmasher peripheral device configuration libraries</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('vdma_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vdma.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>AXI VDMA Userspace I/O Driver  FreeBSD.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/mman.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &quot;vdma.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af126cc489d1f35ecf51d94dcbfa4e955"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#af126cc489d1f35ecf51d94dcbfa4e955">AXIVDMA_MM2S_CR</a>&#160;&#160;&#160;(0x00000000U)</td></tr>
<tr class="separator:af126cc489d1f35ecf51d94dcbfa4e955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4000ccab663b78927ce78e259cb8ae1d"><td class="memItemLeft" align="right" valign="top"><a id="a4000ccab663b78927ce78e259cb8ae1d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_IRQ_DLY_CNT</b>&#160;&#160;&#160;(0xFF000000U)</td></tr>
<tr class="separator:a4000ccab663b78927ce78e259cb8ae1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705990c7d75eafbad2d2da0838ea38d6"><td class="memItemLeft" align="right" valign="top"><a id="a705990c7d75eafbad2d2da0838ea38d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_IRQ_FRM_CNT</b>&#160;&#160;&#160;(0x00FF0000U)</td></tr>
<tr class="separator:a705990c7d75eafbad2d2da0838ea38d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac93dcc2243f2d9314dc082860ceff1d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#aac93dcc2243f2d9314dc082860ceff1d">MM2S_CR_REPEAT_EN</a>&#160;&#160;&#160;(1 &lt;&lt; 15)</td></tr>
<tr class="separator:aac93dcc2243f2d9314dc082860ceff1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a278a605be78e534357ae5d4ede075211"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a278a605be78e534357ae5d4ede075211">MM2S_CR_IRQ_ERR_EN</a>&#160;&#160;&#160;(1 &lt;&lt; 14)</td></tr>
<tr class="separator:a278a605be78e534357ae5d4ede075211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001702b1e8bf074da9fcd2b29a47bb7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a001702b1e8bf074da9fcd2b29a47bb7a">MM2S_CR_IRQ_DLY_CNT_EN</a>&#160;&#160;&#160;(1 &lt;&lt; 13)</td></tr>
<tr class="separator:a001702b1e8bf074da9fcd2b29a47bb7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2847249bd67ed9a40cafce3aa7aa731"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#ab2847249bd67ed9a40cafce3aa7aa731">MM2S_CR_IRQ_FRM_CNT_EN</a>&#160;&#160;&#160;(1 &lt;&lt; 12)</td></tr>
<tr class="separator:ab2847249bd67ed9a40cafce3aa7aa731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14416ba8aa1c4c9756b5fae606e81442"><td class="memItemLeft" align="right" valign="top"><a id="a14416ba8aa1c4c9756b5fae606e81442"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_RD_PTR_NUM</b>&#160;&#160;&#160;(0x00000F00U)</td></tr>
<tr class="separator:a14416ba8aa1c4c9756b5fae606e81442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd330e86c224dd1089322ed16c325a9e"><td class="memItemLeft" align="right" valign="top"><a id="acd330e86c224dd1089322ed16c325a9e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_GEN_LOCK_SRC</b>&#160;&#160;&#160;(1 &lt;&lt; 7)</td></tr>
<tr class="separator:acd330e86c224dd1089322ed16c325a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e9c88d1fbbbea7d087342ab624ad5a"><td class="memItemLeft" align="right" valign="top"><a id="aa4e9c88d1fbbbea7d087342ab624ad5a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_FRM_CNT_EN</b>&#160;&#160;&#160;(1 &lt;&lt; 4)</td></tr>
<tr class="separator:aa4e9c88d1fbbbea7d087342ab624ad5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0540e4519d6771d5ec4508c9894131bc"><td class="memItemLeft" align="right" valign="top"><a id="a0540e4519d6771d5ec4508c9894131bc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_GEN_LOCK_EN</b>&#160;&#160;&#160;(1 &lt;&lt; 3)</td></tr>
<tr class="separator:a0540e4519d6771d5ec4508c9894131bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af717b3264106ee1461741349476317a6"><td class="memItemLeft" align="right" valign="top"><a id="af717b3264106ee1461741349476317a6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_RESET</b>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr class="separator:af717b3264106ee1461741349476317a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77474c098525ffe15a8726880e08c214"><td class="memItemLeft" align="right" valign="top"><a id="a77474c098525ffe15a8726880e08c214"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_CIRC_PARK</b>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr class="separator:a77474c098525ffe15a8726880e08c214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa2f84dedf492fa9b62ed744280e835"><td class="memItemLeft" align="right" valign="top"><a id="acfa2f84dedf492fa9b62ed744280e835"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MM2S_CR_RUN_STOP</b>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:acfa2f84dedf492fa9b62ed744280e835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53147f9828891031f357f625aa59d41"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#aa53147f9828891031f357f625aa59d41">AXIVDMA_MM2S_SR</a>&#160;&#160;&#160;(0x00000004U)</td></tr>
<tr class="separator:aa53147f9828891031f357f625aa59d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa025f5a86c2a25b53fd0c95f0893812f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#aa025f5a86c2a25b53fd0c95f0893812f">MM2S_SR_IRQ_DLY_CNT_STS</a>&#160;&#160;&#160;(0xFF000000U)</td></tr>
<tr class="separator:aa025f5a86c2a25b53fd0c95f0893812f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5176404614249ad6f269b70c92be61d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#ad5176404614249ad6f269b70c92be61d">MM2S_SR_IRQ_FRM_CNT_STS</a>&#160;&#160;&#160;(0x00FF0000U)</td></tr>
<tr class="separator:ad5176404614249ad6f269b70c92be61d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cfd784254e7f27f271abb5c5ca280c3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a3cfd784254e7f27f271abb5c5ca280c3">MM2S_SR_IRQ_ERR</a>&#160;&#160;&#160;(1 &lt;&lt; 14)</td></tr>
<tr class="separator:a3cfd784254e7f27f271abb5c5ca280c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358bbf47b3061edbd18709ab9bc52298"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a358bbf47b3061edbd18709ab9bc52298">MM2S_SR_IRQ_DLY_CNT</a>&#160;&#160;&#160;(1 &lt;&lt; 13)</td></tr>
<tr class="separator:a358bbf47b3061edbd18709ab9bc52298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b48435d79ba89c46c940a35952bdc06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a3b48435d79ba89c46c940a35952bdc06">MM2S_SR_IRQ_FRM_CNT</a>&#160;&#160;&#160;(1 &lt;&lt; 12)</td></tr>
<tr class="separator:a3b48435d79ba89c46c940a35952bdc06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bab8fbdf97bf5c8de1a184cd440fc4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a5bab8fbdf97bf5c8de1a184cd440fc4c">MM2S_SR_ERR_SOF_ERLY</a>&#160;&#160;&#160;(1 &lt;&lt; 7)</td></tr>
<tr class="separator:a5bab8fbdf97bf5c8de1a184cd440fc4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c68500f73cfdac73b96009d650d0f26"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a0c68500f73cfdac73b96009d650d0f26">MM2S_SR_ERR_VDMA_DEC</a>&#160;&#160;&#160;(1 &lt;&lt; 6)</td></tr>
<tr class="separator:a0c68500f73cfdac73b96009d650d0f26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16df8477442c5b192223835d8363379"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#ac16df8477442c5b192223835d8363379">MM2S_SR_ERR_VDMA_SLV</a>&#160;&#160;&#160;(1 &lt;&lt; 5)</td></tr>
<tr class="separator:ac16df8477442c5b192223835d8363379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a968a7e457915f010cb425be3e7d66c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a9a968a7e457915f010cb425be3e7d66c">MM2S_SR_ERR_VDMA_INT</a>&#160;&#160;&#160;(1 &lt;&lt; 4)</td></tr>
<tr class="separator:a9a968a7e457915f010cb425be3e7d66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0083ffa06d2f6876f8e7399f9cbffa34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a0083ffa06d2f6876f8e7399f9cbffa34">MM2S_SR_HALTED</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr class="separator:a0083ffa06d2f6876f8e7399f9cbffa34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad91d777a4a0b36dbff55d8952c0607"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a0ad91d777a4a0b36dbff55d8952c0607">AXIVDMA_MM2S_INDEX</a>&#160;&#160;&#160;(0x00000014U)</td></tr>
<tr class="separator:a0ad91d777a4a0b36dbff55d8952c0607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ddfdbc9e6d43d6a3c4b8ec3ea27bc7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a38ddfdbc9e6d43d6a3c4b8ec3ea27bc7">AXIVDMA_PARK_PTR</a>&#160;&#160;&#160;(0x00000028U)</td></tr>
<tr class="separator:a38ddfdbc9e6d43d6a3c4b8ec3ea27bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f136688ea055ccb0bad9a718d396cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a93f136688ea055ccb0bad9a718d396cf">AXIVDMA_VERSION</a>&#160;&#160;&#160;(0x0000002CU)</td></tr>
<tr class="separator:a93f136688ea055ccb0bad9a718d396cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa050ba7f7266129e3d1fcde503d287f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#aa050ba7f7266129e3d1fcde503d287f4">AXIVDMA_S2MM_CR</a>&#160;&#160;&#160;(0x00000030U)</td></tr>
<tr class="separator:aa050ba7f7266129e3d1fcde503d287f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1338957cedf7ed5981a0905bcb0d8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a2c1338957cedf7ed5981a0905bcb0d8d">AXIVDMA_S2MM_SR</a>&#160;&#160;&#160;(0x00000034U)</td></tr>
<tr class="separator:a2c1338957cedf7ed5981a0905bcb0d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3d061d4f1237f2c069f94aa9adf64b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a6a3d061d4f1237f2c069f94aa9adf64b">AXIVDMA_S2MM_IRQ_MASK</a>&#160;&#160;&#160;(0x0000003CU)</td></tr>
<tr class="separator:a6a3d061d4f1237f2c069f94aa9adf64b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9bbbd6fa1ffc1d83dfd712c309d63e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a7d9bbbd6fa1ffc1d83dfd712c309d63e">AXIVDMA_S2MM_INDEX</a>&#160;&#160;&#160;(0x00000044U)</td></tr>
<tr class="separator:a7d9bbbd6fa1ffc1d83dfd712c309d63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09d7434fa8edf0fddd65c5079dd1f0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#af09d7434fa8edf0fddd65c5079dd1f0a">AXIVDMA_MM2S_VSIZE</a>&#160;&#160;&#160;(0x00000050U)</td></tr>
<tr class="separator:af09d7434fa8edf0fddd65c5079dd1f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826f19fae14511af45b5dfc919a08d33"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a826f19fae14511af45b5dfc919a08d33">AXIVDMA_MM2S_HSIZE</a>&#160;&#160;&#160;(0x00000054U)</td></tr>
<tr class="separator:a826f19fae14511af45b5dfc919a08d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa374509a24c9463ca4a20022620a88e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#aa374509a24c9463ca4a20022620a88e6">AXIVDMA_MM2S_FRMDLYSTRD</a>&#160;&#160;&#160;(0x00000058U)</td></tr>
<tr class="separator:aa374509a24c9463ca4a20022620a88e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab676dd84a9f17b05fabf42b873dc19a3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#ab676dd84a9f17b05fabf42b873dc19a3">AXIVDMA_MM2S_START_ADDRESS</a>&#160;&#160;&#160;(0x0000005CU)</td></tr>
<tr class="separator:ab676dd84a9f17b05fabf42b873dc19a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f4a7902bddcf1dcf32caccda010f37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a37f4a7902bddcf1dcf32caccda010f37">AXIVDMA_S2MM_VSIZE</a>&#160;&#160;&#160;(0x000000A0U)</td></tr>
<tr class="separator:a37f4a7902bddcf1dcf32caccda010f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8205e6b95fd4778e8785f018f3fb1e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a0f8205e6b95fd4778e8785f018f3fb1e">AXIVDMA_S2MM_HSIZE</a>&#160;&#160;&#160;(0x000000A4U)</td></tr>
<tr class="separator:a0f8205e6b95fd4778e8785f018f3fb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9f3073b954beca66314c33a58b964a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#abf9f3073b954beca66314c33a58b964a">AXIVDMA_S2MM_FRMDLYSTRD</a>&#160;&#160;&#160;(0x000000A8U)</td></tr>
<tr class="separator:abf9f3073b954beca66314c33a58b964a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c6657bdc6d5e9ab9bbd3bddd3cf57e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#a29c6657bdc6d5e9ab9bbd3bddd3cf57e">AXIVDMA_S2MM_START_ADDRESS</a>&#160;&#160;&#160;(0x000000ACU)</td></tr>
<tr class="separator:a29c6657bdc6d5e9ab9bbd3bddd3cf57e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a4d723b0af169ad73d21c26e0d68db"><td class="memItemLeft" align="right" valign="top"><a id="a68a4d723b0af169ad73d21c26e0d68db"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REG_READ</b>(__BASE__,  __OFFSET__)&#160;&#160;&#160;*((volatile uint32_t *)(((uint8_t *)(__BASE__)) + (__OFFSET__)))</td></tr>
<tr class="separator:a68a4d723b0af169ad73d21c26e0d68db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b4b3bf845c58c8ce83c833a174e32b"><td class="memItemLeft" align="right" valign="top"><a id="aa0b4b3bf845c58c8ce83c833a174e32b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REG_WRITE</b>(__BASE__,  __OFFSET__,  __DATA__)&#160;&#160;&#160;*((volatile uint32_t *)(((uint8_t *)(__BASE__)) + (__OFFSET__))) = (__DATA__)</td></tr>
<tr class="separator:aa0b4b3bf845c58c8ce83c833a174e32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abdfa0ebe29df519ee5143f31c5fe7255"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdma_8c.html#abdfa0ebe29df519ee5143f31c5fe7255">vdma_get_status</a> (<a class="el" href="struct___axi_vdma.html">AxiVdma</a> *vdma)</td></tr>
<tr class="separator:abdfa0ebe29df519ee5143f31c5fe7255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7792b6a3bd02a86cf4e50b492ac72700"><td class="memItemLeft" align="right" valign="top"><a id="a7792b6a3bd02a86cf4e50b492ac72700"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>vdma_config</b> (<a class="el" href="struct___axi_vdma.html">AxiVdma</a> *vdma)</td></tr>
<tr class="separator:a7792b6a3bd02a86cf4e50b492ac72700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe0e703c4ff7461422f578677bc5d275"><td class="memItemLeft" align="right" valign="top"><a id="abe0e703c4ff7461422f578677bc5d275"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>vdma_init</b> (<a class="el" href="struct___axi_vdma.html">AxiVdma</a> *vdma, const char *dev_name)</td></tr>
<tr class="separator:abe0e703c4ff7461422f578677bc5d275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>AXI VDMA Userspace I/O Driver  FreeBSD. </p>
<dl class="section author"><dt>Author</dt><dd>R. Bush  <a href="#" onclick="location.href='mai'+'lto:'+'bus'+'h@'+'krt'+'kl'+'.co'+'m'; return false;">bush@<span style="display: none;">.nosp@m.</span>krtk<span style="display: none;">.nosp@m.</span>l.com</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Jan 16, 2018 Copyright (c) 2018, krtkl inc. All rights reserved.</dd></dl>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p>The views and conclusions contained in the software and documentation are those of the authors and should not be interpreted as representing official policies, either expressed or implied, of the FreeBSD Project. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af126cc489d1f35ecf51d94dcbfa4e955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af126cc489d1f35ecf51d94dcbfa4e955">&#9670;&nbsp;</a></span>AXIVDMA_MM2S_CR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_MM2S_CR&#160;&#160;&#160;(0x00000000U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MM2S control register </p>

</div>
</div>
<a id="aa374509a24c9463ca4a20022620a88e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa374509a24c9463ca4a20022620a88e6">&#9670;&nbsp;</a></span>AXIVDMA_MM2S_FRMDLYSTRD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_MM2S_FRMDLYSTRD&#160;&#160;&#160;(0x00000058U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MM2S frame delay and stride </p>

</div>
</div>
<a id="a826f19fae14511af45b5dfc919a08d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826f19fae14511af45b5dfc919a08d33">&#9670;&nbsp;</a></span>AXIVDMA_MM2S_HSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_MM2S_HSIZE&#160;&#160;&#160;(0x00000054U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MM2S horizontal size </p>

</div>
</div>
<a id="a0ad91d777a4a0b36dbff55d8952c0607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ad91d777a4a0b36dbff55d8952c0607">&#9670;&nbsp;</a></span>AXIVDMA_MM2S_INDEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_MM2S_INDEX&#160;&#160;&#160;(0x00000014U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MM2S register index </p>

</div>
</div>
<a id="aa53147f9828891031f357f625aa59d41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa53147f9828891031f357f625aa59d41">&#9670;&nbsp;</a></span>AXIVDMA_MM2S_SR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_MM2S_SR&#160;&#160;&#160;(0x00000004U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MM2S status register </p>

</div>
</div>
<a id="ab676dd84a9f17b05fabf42b873dc19a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab676dd84a9f17b05fabf42b873dc19a3">&#9670;&nbsp;</a></span>AXIVDMA_MM2S_START_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_MM2S_START_ADDRESS&#160;&#160;&#160;(0x0000005CU)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MM2S start address </p>

</div>
</div>
<a id="af09d7434fa8edf0fddd65c5079dd1f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09d7434fa8edf0fddd65c5079dd1f0a">&#9670;&nbsp;</a></span>AXIVDMA_MM2S_VSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_MM2S_VSIZE&#160;&#160;&#160;(0x00000050U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MM2S vertical size </p>

</div>
</div>
<a id="a38ddfdbc9e6d43d6a3c4b8ec3ea27bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38ddfdbc9e6d43d6a3c4b8ec3ea27bc7">&#9670;&nbsp;</a></span>AXIVDMA_PARK_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_PARK_PTR&#160;&#160;&#160;(0x00000028U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Park pointer </p>

</div>
</div>
<a id="aa050ba7f7266129e3d1fcde503d287f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa050ba7f7266129e3d1fcde503d287f4">&#9670;&nbsp;</a></span>AXIVDMA_S2MM_CR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_S2MM_CR&#160;&#160;&#160;(0x00000030U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>S2MM control register </p>

</div>
</div>
<a id="abf9f3073b954beca66314c33a58b964a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf9f3073b954beca66314c33a58b964a">&#9670;&nbsp;</a></span>AXIVDMA_S2MM_FRMDLYSTRD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_S2MM_FRMDLYSTRD&#160;&#160;&#160;(0x000000A8U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>S2MM frame delay and stride </p>

</div>
</div>
<a id="a0f8205e6b95fd4778e8785f018f3fb1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8205e6b95fd4778e8785f018f3fb1e">&#9670;&nbsp;</a></span>AXIVDMA_S2MM_HSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_S2MM_HSIZE&#160;&#160;&#160;(0x000000A4U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>S2MM horizontal size </p>

</div>
</div>
<a id="a7d9bbbd6fa1ffc1d83dfd712c309d63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9bbbd6fa1ffc1d83dfd712c309d63e">&#9670;&nbsp;</a></span>AXIVDMA_S2MM_INDEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_S2MM_INDEX&#160;&#160;&#160;(0x00000044U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>S2MM register index </p>

</div>
</div>
<a id="a6a3d061d4f1237f2c069f94aa9adf64b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a3d061d4f1237f2c069f94aa9adf64b">&#9670;&nbsp;</a></span>AXIVDMA_S2MM_IRQ_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_S2MM_IRQ_MASK&#160;&#160;&#160;(0x0000003CU)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>S2MM error interrupt mask </p>

</div>
</div>
<a id="a2c1338957cedf7ed5981a0905bcb0d8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c1338957cedf7ed5981a0905bcb0d8d">&#9670;&nbsp;</a></span>AXIVDMA_S2MM_SR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_S2MM_SR&#160;&#160;&#160;(0x00000034U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>S2MM status register </p>

</div>
</div>
<a id="a29c6657bdc6d5e9ab9bbd3bddd3cf57e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c6657bdc6d5e9ab9bbd3bddd3cf57e">&#9670;&nbsp;</a></span>AXIVDMA_S2MM_START_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_S2MM_START_ADDRESS&#160;&#160;&#160;(0x000000ACU)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>S2MM start address </p>

</div>
</div>
<a id="a37f4a7902bddcf1dcf32caccda010f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f4a7902bddcf1dcf32caccda010f37">&#9670;&nbsp;</a></span>AXIVDMA_S2MM_VSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_S2MM_VSIZE&#160;&#160;&#160;(0x000000A0U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>S2MM vertical size </p>

</div>
</div>
<a id="a93f136688ea055ccb0bad9a718d396cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f136688ea055ccb0bad9a718d396cf">&#9670;&nbsp;</a></span>AXIVDMA_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AXIVDMA_VERSION&#160;&#160;&#160;(0x0000002CU)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Video DMA version </p>

</div>
</div>
<a id="a001702b1e8bf074da9fcd2b29a47bb7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a001702b1e8bf074da9fcd2b29a47bb7a">&#9670;&nbsp;</a></span>MM2S_CR_IRQ_DLY_CNT_EN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_CR_IRQ_DLY_CNT_EN&#160;&#160;&#160;(1 &lt;&lt; 13)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt on delay count enable </p>

</div>
</div>
<a id="a278a605be78e534357ae5d4ede075211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a278a605be78e534357ae5d4ede075211">&#9670;&nbsp;</a></span>MM2S_CR_IRQ_ERR_EN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_CR_IRQ_ERR_EN&#160;&#160;&#160;(1 &lt;&lt; 14)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt on error enable </p>

</div>
</div>
<a id="ab2847249bd67ed9a40cafce3aa7aa731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2847249bd67ed9a40cafce3aa7aa731">&#9670;&nbsp;</a></span>MM2S_CR_IRQ_FRM_CNT_EN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_CR_IRQ_FRM_CNT_EN&#160;&#160;&#160;(1 &lt;&lt; 12)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt frame count complete enable </p>

</div>
</div>
<a id="aac93dcc2243f2d9314dc082860ceff1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac93dcc2243f2d9314dc082860ceff1d">&#9670;&nbsp;</a></span>MM2S_CR_REPEAT_EN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_CR_REPEAT_EN&#160;&#160;&#160;(1 &lt;&lt; 15)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Repeat or advance frame enable </p>

</div>
</div>
<a id="a5bab8fbdf97bf5c8de1a184cd440fc4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bab8fbdf97bf5c8de1a184cd440fc4c">&#9670;&nbsp;</a></span>MM2S_SR_ERR_SOF_ERLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_ERR_SOF_ERLY&#160;&#160;&#160;(1 &lt;&lt; 7)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start of frame early error </p>

</div>
</div>
<a id="a0c68500f73cfdac73b96009d650d0f26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c68500f73cfdac73b96009d650d0f26">&#9670;&nbsp;</a></span>MM2S_SR_ERR_VDMA_DEC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_ERR_VDMA_DEC&#160;&#160;&#160;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>VDMA decode error </p>

</div>
</div>
<a id="a9a968a7e457915f010cb425be3e7d66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a968a7e457915f010cb425be3e7d66c">&#9670;&nbsp;</a></span>MM2S_SR_ERR_VDMA_INT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_ERR_VDMA_INT&#160;&#160;&#160;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>VDMA internal error </p>

</div>
</div>
<a id="ac16df8477442c5b192223835d8363379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac16df8477442c5b192223835d8363379">&#9670;&nbsp;</a></span>MM2S_SR_ERR_VDMA_SLV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_ERR_VDMA_SLV&#160;&#160;&#160;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>VDMA slave error </p>

</div>
</div>
<a id="a0083ffa06d2f6876f8e7399f9cbffa34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0083ffa06d2f6876f8e7399f9cbffa34">&#9670;&nbsp;</a></span>MM2S_SR_HALTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_HALTED&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>VDMA channel halted </p>

</div>
</div>
<a id="a358bbf47b3061edbd18709ab9bc52298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358bbf47b3061edbd18709ab9bc52298">&#9670;&nbsp;</a></span>MM2S_SR_IRQ_DLY_CNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_IRQ_DLY_CNT&#160;&#160;&#160;(1 &lt;&lt; 13)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt on delay </p>

</div>
</div>
<a id="aa025f5a86c2a25b53fd0c95f0893812f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa025f5a86c2a25b53fd0c95f0893812f">&#9670;&nbsp;</a></span>MM2S_SR_IRQ_DLY_CNT_STS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_IRQ_DLY_CNT_STS&#160;&#160;&#160;(0xFF000000U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt delay count status </p>

</div>
</div>
<a id="a3cfd784254e7f27f271abb5c5ca280c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cfd784254e7f27f271abb5c5ca280c3">&#9670;&nbsp;</a></span>MM2S_SR_IRQ_ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_IRQ_ERR&#160;&#160;&#160;(1 &lt;&lt; 14)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt on error </p>

</div>
</div>
<a id="a3b48435d79ba89c46c940a35952bdc06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b48435d79ba89c46c940a35952bdc06">&#9670;&nbsp;</a></span>MM2S_SR_IRQ_FRM_CNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_IRQ_FRM_CNT&#160;&#160;&#160;(1 &lt;&lt; 12)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frame count interrupt </p>

</div>
</div>
<a id="ad5176404614249ad6f269b70c92be61d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5176404614249ad6f269b70c92be61d">&#9670;&nbsp;</a></span>MM2S_SR_IRQ_FRM_CNT_STS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MM2S_SR_IRQ_FRM_CNT_STS&#160;&#160;&#160;(0x00FF0000U)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interrupt frame count status </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abdfa0ebe29df519ee5143f31c5fe7255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdfa0ebe29df519ee5143f31c5fe7255">&#9670;&nbsp;</a></span>vdma_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vdma_get_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___axi_vdma.html">AxiVdma</a> *&#160;</td>
          <td class="paramname"><em>vdma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>From AXI Video Direct Memory Access v6.2 - PG020</p>
<p>Programming Sequence</p>
<p>AXI VDMA operations begin with the setup of the video parameter and start address registers and the VDMA control registers. The following lists the minimum steps, in order, required to start AXI VDMA operations:</p>
<ol type="1">
<li>Write control information to the channel VDMACR register (Offset 0x00 for MM2S and 0x30 for S2MM) to set interrupt enables if desired, and set VDMACR.RS=1 to start the AXI VDMA channel running.</li>
<li><p class="startli">Write a valid video frame buffer start address to the channel START_ADDRESS register 1 to N where N equals Frame Buffers (Offset 0x5C up to 0x98 for MM2S and 0xAC up to 0xE8 for S2MM). Set the REG_INDEX register if required.</p>
<p class="startli">When AXI VDMA is configured for an address space greater than 32, each start address is to be programmed as a combination of two registers wherein the first register is used to specify LSB 32 bits of address while the next register is used to specify MSB 32 bits.</p>
</li>
<li>Write a valid Frame Delay (valid only for Genlock Slave) and Stride to the channel FRMDLY_STRIDE register (Offset 0x58 for MM2S and 0xA8 for S2MM).</li>
<li>Write a valid Horizontal Size to the channel HSIZE register (Offset 0x54 for MM2S and 0xA4 for S2MM).</li>
<li>Write a valid Vertical Size to the channel VSIZE register (Offset 0x50 for MM2S and 0xA0 for S2MM). This starts the channel transferring video data.</li>
</ol>
<p>You should be able to update video parameter settings at any time while the engine is running by writing new video parameters and a video start address through the AXI4-Lite control interface. The newly written video transfer values take effect on the next frame boundary after you write the vertical size register for the respective channel. To update video parameters dynamically while AXI VDMA operations are ongoing, a similar process to the start steps is needed.</p>
<ol type="1">
<li>Write the Frame Delay, Stride, and Horizontal Size in any order for the associated channel.</li>
<li>Write the Vertical Size. When VSize is written, the video register values are transferred to an internal register block. On the next frame boundary the VDMA controller for the associated channel starts transfers using the newly updated values.</li>
</ol>
<p>Interrupts</p>
<p>An interrupt output is provided for each channel (MM2S and S2MM). This output drives High when there is an error if the error interrupt is enabled. </p>
<div class="fragment"><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    uint32_t sr;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    sr = REG_READ(vdma-&gt;base, <a class="code" href="vdma_8c.html#aa53147f9828891031f357f625aa59d41">AXIVDMA_MM2S_SR</a>);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    printf(<span class="stringliteral">&quot;MM2S SR: %x\n&quot;</span>, sr);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    sr = REG_READ(vdma-&gt;base, <a class="code" href="vdma_8c.html#a2c1338957cedf7ed5981a0905bcb0d8d">AXIVDMA_S2MM_SR</a>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    printf(<span class="stringliteral">&quot;S2MM SR: %x\n&quot;</span>, sr);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="vdma_8c_html_aa53147f9828891031f357f625aa59d41"><div class="ttname"><a href="vdma_8c.html#aa53147f9828891031f357f625aa59d41">AXIVDMA_MM2S_SR</a></div><div class="ttdeci">#define AXIVDMA_MM2S_SR</div><div class="ttdef"><b>Definition:</b> vdma.c:73</div></div>
<div class="ttc" id="vdma_8c_html_a2c1338957cedf7ed5981a0905bcb0d8d"><div class="ttname"><a href="vdma_8c.html#a2c1338957cedf7ed5981a0905bcb0d8d">AXIVDMA_S2MM_SR</a></div><div class="ttdeci">#define AXIVDMA_S2MM_SR</div><div class="ttdef"><b>Definition:</b> vdma.c:90</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a9ec1ef424966475f993eb98877e3088.html">projects</a></li><li class="navelem"><a class="el" href="dir_d2c8bb7959487ae6c146ed352a9d0a73.html">lib</a></li><li class="navelem"><a class="el" href="vdma_8c.html">vdma.c</a></li>
    <li class="footer">Generated on Sat Sep 1 2018 01:23:38 for piSmasher Configuration Libraries by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
